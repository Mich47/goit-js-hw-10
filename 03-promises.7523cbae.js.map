{"mappings":"0iBACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAUC,GAC/B,KAAMD,aAAoBC,GACtB,MAAM,IAAIC,UAAU,oC,WCG5B,SAASC,EAAkBC,EAAQC,GAC/B,IAAI,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAI,CACjC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDhB,OAAOC,eAAeQ,EAAQI,EAAWI,IAAKJ,E,EAftDb,OAAOC,eAAeiB,EAAS,aAAc,CACzCf,OAAO,IAEXe,EAAQd,QACR,SAAsBE,EAAaa,EAAYC,GACvCD,GAAYX,EAAkBF,EAAYe,UAAWF,GACrDC,GAAaZ,EAAkBF,EAAac,GAChD,OAAOd,C,mBCuDX,IAPG,W,sBAtDGgB,EACQC,G,IAAEC,EAAFD,EAAEC,QAASC,EAAXF,EAAWE,MAAOC,EAAlBH,EAAkBG,KAAMC,EAAxBJ,EAAwBI,O,aAClCC,KAAKJ,QAAUA,EACfI,KAAKH,MAAQA,EACbG,KAAKF,KAAOA,EACZE,KAAKD,OAASA,C,iBAGhBV,IAAA,O,MAAA,WACEW,KAAKC,c,IAGPZ,IAAA,e,MAAA,WACEW,KAAKJ,QAAQM,iBAAiB,SAAUF,KAAKG,aAAaC,KAAKJ,M,IAGjEX,IAAA,e,MAAA,SAAagB,GACXA,EAAMC,iBAENN,KAAKO,eAAe,CAClBV,MAAOG,KAAKH,MAAMW,cAClBV,KAAME,KAAKF,KAAKU,cAChBT,OAAQC,KAAKD,OAAOS,e,IAIxBnB,IAAA,iB,MAAA,SAAeoB,GACb,I,IADeC,EAAFD,EAAEZ,MAAOC,EAATW,EAASX,KAAMC,EAAfU,EAAeV,OACnBhB,EAAI,EAAGA,GAAKgB,EAAQhB,GAAK,EAChCiB,KAAKW,cAAc5B,EAAG2B,GACnBE,MAAK,SAAAjB,G,IAAGkB,EAAQlB,EAARkB,SAAUhB,EAAKF,EAALE,MACjBiB,EAAAC,OAAOC,QAAQ,uBAAwCC,OAAfJ,EAAS,QAAYI,OAANpB,EAAM,M,IAE9DqB,OAAM,SAAAvB,G,IAAGkB,EAAQlB,EAARkB,SAAUhB,EAAKF,EAALE,MAClBiB,EAAAC,OAAOI,QAAQ,sBAAqCF,OAAfJ,EAAS,QAAYI,OAANpB,EAAM,M,IAG9Da,GAASZ,C,IAIbT,IAAA,gB,MAAA,SAAcwB,EAAUhB,GACtB,OAAO,IAAIuB,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACaC,KAAKC,SAAW,IAEpCJ,EAAQ,CAAER,WAAUhB,UAGtByB,EAAO,CAAET,WAAUhB,S,GAClBA,E,UAKN,GAOH,CAPqB,CACnBD,QAAS8B,SAASC,cAAc,SAChC9B,MAAO6B,SAASC,cAAc,uBAC9B7B,KAAM4B,SAASC,cAAc,sBAC7B5B,OAAQ2B,SAASC,cAAc,0BAGEC,M","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/03-promises.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nclass PromiseGenerator {\n  constructor({ formRef, delay, step, amount }) {\n    this.formRef = formRef;\n    this.delay = delay;\n    this.step = step;\n    this.amount = amount;\n  }\n\n  init() {\n    this.addListeners();\n  }\n\n  addListeners() {\n    this.formRef.addEventListener('submit', this.onFormSubmit.bind(this));\n  }\n\n  onFormSubmit(event) {\n    event.preventDefault();\n\n    this.createPromises({\n      delay: this.delay.valueAsNumber,\n      step: this.step.valueAsNumber,\n      amount: this.amount.valueAsNumber,\n    });\n  }\n\n  createPromises({ delay, step, amount }) {\n    for (let i = 1; i <= amount; i += 1) {\n      this.createPromise(i, delay)\n        .then(({ position, delay }) => {\n          Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        })\n        .catch(({ position, delay }) => {\n          Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n        });\n\n      delay += step;\n    }\n  }\n\n  createPromise(position, delay) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        const shouldResolve = Math.random() > 0.3;\n        if (shouldResolve) {\n          resolve({ position, delay });\n        }\n\n        reject({ position, delay });\n      }, delay);\n    });\n  }\n}\n\nconst refFormInput = {\n  formRef: document.querySelector('.form'),\n  delay: document.querySelector('input[name=\"delay\"]'),\n  step: document.querySelector('input[name=\"step\"]'),\n  amount: document.querySelector('input[name=\"amount\"]'),\n};\n\nnew PromiseGenerator(refFormInput).init();\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","PromiseGenerator","param","formRef","delay","step","amount","this","addListeners","addEventListener","onFormSubmit","bind","event","preventDefault","createPromises","valueAsNumber","param1","delay1","createPromise","then","position","$h6c0i","Notify","success","concat","catch","failure","Promise","resolve","reject","setTimeout","Math","random","document","querySelector","init"],"version":3,"file":"03-promises.7523cbae.js.map"}